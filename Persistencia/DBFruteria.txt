drop database dbfruteria;
create database dbfruteria;
use dbfruteria;

create table cliente(
 idCliente int(11) not null AUTO_INCREMENT,
 nombre varchar(50) not null,
 correo varchar(50) not null,
 clave varchar(50) not null,
 estado int not null,
 codigoActivacion int not null,
 PRIMARY KEY (idCliente)
);

create table proveedor(
 idProveedor int(11) not null AUTO_INCREMENT,
 nombre varchar(50) not null,
 correo varchar(50) not null,
 clave varchar(50) not null,
 estado int not null,
 codigoActivacion int not null,
 PRIMARY KEY (idProveedor)
);

create table producto(
    idProducto int(11) not null AUTO_INCREMENT,
    nombre varchar(50) not null,
    cantidad int(11) not null,
    precio int(11) not null,
    PRIMARY KEY (idProducto)
);

create table factura(
	idFactura int(11) not null AUTO_INCREMENT,
    fecha date not null,
    idCliente int(11) not null,
    valor int(11) not null,
    PRIMARY KEY(idFactura),
    FOREIGN KEY (idFactura) REFERENCES cliente(idCliente)
);

create table facturaProducto(
	idfacturaProducto int(11) not null AUTO_INCREMENT,
    idProducto int(11) not null,
    idFactura int(11) not null,
    cantidad int(11) not null,
    precio int(11) not null,
    PRIMARY KEY(idfacturaProducto),
    FOREIGN KEY(idProducto) REFERENCES producto(idProducto),
    FOREIGN key(idFactura) REFERENCES factura(idFactura)
);